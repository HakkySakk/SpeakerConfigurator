<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Högtalarkabinett-konfigurator</title>
  <link rel="stylesheet" href="styles.css" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>
  <header>
    <h1>Högtalarkabinett-konfigurator</h1>
    <nav>
      <button onclick="showSection('standard')">Standard</button>
      <button onclick="showSection('horn')">Folded Horn</button>
    </nav>
  </header>

  <!-- Standardhögtalare -->
  <section id="standardSection">
    <h2>Standardhögtalare</h2>
    <label>Höjd (mm): <input type="number" id="height" value="500" /></label>
    <label>Bredd (mm): <input type="number" id="width" value="300" /></label>
    <label>Djup (mm): <input type="number" id="depth" value="300" /></label>
    <label>Väggtjocklek (mm): <input type="number" id="wallThickness" value="18" /></label>
    <label>Material:
      <select id="materialType">
        <option value="mdf">MDF</option>
        <option value="plywood">Plywood</option>
        <option value="hdf">HDF</option>
      </select>
    </label>
    <button onclick="calculateVolume()">Beräkna volym och vikt</button>
    <div id="results"></div>
  </section>

  <!-- Folded horn -->
  <section id="hornSection" class="hidden">
    <h2>Folded Horn-konfigurator</h2>
    <label>Höjd (mm): <input type="number" id="hornHeight" value="600" /></label>
    <label>Bredd (mm): <input type="number" id="hornWidth" value="300" /></label>
    <label>Djup (mm): <input type="number" id="hornDepth" value="300" /></label>
    <label>Väggtjocklek (mm): <input type="number" id="hornWallThickness" value="18" /></label>
    <label>Material:
      <select id="hornMaterialType">
        <option value="mdf">MDF</option>
        <option value="plywood">Plywood</option>
        <option value="hdf">HDF</option>
      </select>
    </label>
    <label>Antal veck: <input type="number" id="folds" value="3" min="1" /></label>
    <label>Hornets längd (mm): <input type="number" id="hornLength" value="1200" /></label>
    <button onclick="drawHorn()">Rita och beräkna</button>

    <canvas id="hornCanvas" width="500" height="320"></canvas>

    <div id="hornDetails"></div>
  </section>

  <script src="script.js"></script>
</body>
</html>
2. Script (script.js)
js
Kopiera
Redigera
// Materialdensiteter kg/m3
function getMaterialDensity(material) {
  switch (material) {
    case 'mdf': return 700;
    case 'plywood': return 600;
    case 'hdf': return 850;
    default: return 700;
  }
}

function showSection(section) {
  document.getElementById("standardSection").classList.add("hidden");
  document.getElementById("hornSection").classList.add("hidden");

  if (section === "standard") {
    document.getElementById("standardSection").classList.remove("hidden");
  } else {
    document.getElementById("hornSection").classList.remove("hidden");
    drawHorn();
  }
}

function calculateVolume() {
  const height = Number(document.getElementById('height').value);
  const width = Number(document.getElementById('width').value);
  const depth = Number(document.getElementById('depth').value);
  const wall = Number(document.getElementById('wallThickness').value);
  const material = document.getElementById('materialType').value;

  const innerHeight = height - wall * 2;
  const innerWidth = width - wall * 2;
  const innerDepth = depth - wall * 2;

  if (innerHeight <= 0 || innerWidth <= 0 || innerDepth <= 0) {
    alert('Väggtjockleken är för stor för dimensionerna.');
    return;
  }

  const volume = (innerHeight * innerWidth * innerDepth) / 1000000;
  const outerVolume = (height * width * depth) / 1000000;
  const materialVolume = outerVolume - volume;
  const density = getMaterialDensity(material);
  const weight = materialVolume * density;

  document.getElementById('results').innerHTML = `
    <p><strong>Inre volym:</strong> ${volume.toFixed(2)} liter</p>
    <p><strong>Materialvikt:</strong> ${weight.toFixed(2)} kg (${material.toUpperCase()})</p>
  `;
}

function drawHorn() {
  const canvas = document.getElementById('hornCanvas');
  const ctx = canvas.getContext('2d');

  const height = Number(document.getElementById('hornHeight').value);
  const width = Number(document.getElementById('hornWidth').value);
  const depth = Number(document.getElementById('hornDepth').value);
  const wall = Number(document.getElementById('hornWallThickness').value);
  const folds = Number(document.getElementById('folds').value);
  const hornLength = Number(document.getElementById('hornLength').value);
  const material = document.getElementById('hornMaterialType').value;

  ctx.clearRect(0, 0, canvas.width, canvas.height);

  const scaleX = 480 / (width * folds);
  const scaleY = 280 / height;
  const scale = Math.min(scaleX, scaleY);

  const foldWidth = width * scale;
  const foldHeight = height * scale;

  for (let i = 0; i < folds; i++) {
    const x = i * foldWidth;
    ctx.fillStyle = '#0071e3';
    ctx.fillRect(x, canvas.height - foldHeight - 20, foldWidth - 5, foldHeight);
    ctx.strokeStyle = '#004a99';
    ctx.lineWidth = 2;
    ctx.strokeRect(x, canvas.height - foldHeight - 20, foldWidth - 5, foldHeight);
  }

  ctx.fillStyle = '#0071e3';
  ctx.font = 'bold 16px "SF Pro Text", sans-serif';
  ctx.fillText(`Antal veck: ${folds}`, 10, 20);
  ctx.fillText(`Hornets längd: ${hornLength} mm`, 10, 40);

  const outerVolumeM3 = (height / 1000) * (width / 1000) * (depth / 1000);
  const innerHeight = (height - wall * 2) / 1000;
  const innerWidth = (width - wall * 2) / 1000;
  const innerDepth = hornLength / 1000;

  const innerVolumeM3 = innerHeight * innerWidth * innerDepth;
  const materialVolumeM3 = outerVolumeM3 - innerVolumeM3;
  const density = getMaterialDensity(material);
  const weight = materialVolumeM3 * density;

  document.getElementById('hornDetails').innerHTML = `
    <p>Dimensioner (HxBxD): ${height} x ${width} x ${depth} mm</p>
    <p>Väggtjocklek: ${wall} mm</p>
    <p>Antal veck: ${folds}</p>
    <p>Hornets längd: ${hornLength} mm</p>
    <p><strong>Materialvikt:</strong> ${weight.toFixed(2)} kg (${material.toUpperCase()})</p>
  `;
}
