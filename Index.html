<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Högtalarkabinett-konfigurator</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500&display=swap" rel="stylesheet" />
  <style>
    /* Klistra in hela CSS-koden jag skickade tidigare här */
  </style>
</head>
<body>
  <nav>
    <button id="btnStandard" class="active" onclick="switchSection('standard', this)">Standard</button>
    <button id="btnHorn" onclick="switchSection('horn', this)">Folded Horn</button>
    <button id="btnPressure" onclick="switchSection('pressure', this)">Lufttryck (Folded Horn)</button>
  </nav>

  <div class="container">
    <!-- Standardhögtalare -->
    <section id="standardSection">
      <h1>Standardhögtalare</h1>
      <label for="height">Höjd (mm)</label>
      <input type="number" id="height" value="400" min="100" max="2000" />
      <label for="width">Bredd (mm)</label>
      <input type="number" id="width" value="300" min="100" max="1000" />
      <label for="depth">Djup (mm)</label>
      <input type="number" id="depth" value="300" min="100" max="1000" />
      <label for="wallThickness">Väggtjocklek (mm)</label>
      <input type="number" id="wallThickness" value="18" min="10" max="50" />
      <label for="materialType">Material</label>
      <select id="materialType">
        <option value="mdf">MDF</option>
        <option value="plywood">Plywood</option>
        <option value="hdf">HDF</option>
      </select>
      <label for="wooferCount">Antal högtalarelement</label>
      <input type="number" id="wooferCount" value="1" min="1" max="10" />
      <label for="cabinetType">Typ av låda</label>
      <select id="cabinetType">
        <option value="sealed">Sluten</option>
        <option value="ported">Basreflex</option>
      </select>
      <button class="primary" onclick="calculateVolume()">Beräkna</button>
      <button class="primary" onclick="exportToPDF()">Exportera till PDF</button>
      <div id="results"></div>
    </section>

    <!-- Folded Horn -->
    <section id="hornSection" class="hidden">
      <h1>Folded Horn</h1>
      <div class="form-row">
        <div>
          <label for="hornHeight">Höjd (mm)</label>
          <input type="number" id="hornHeight" value="800" min="100" max="3000" />
          <label for="hornWidth">Bredd (mm)</label>
          <input type="number" id="hornWidth" value="400" min="100" max="1500" />
          <label for="hornDepth">Djup (mm)</label>
          <input type="number" id="hornDepth" value="400" min="100" max="1500" />
          <label for="hornWallThickness">Väggtjocklek (mm)</label>
          <input type="number" id="hornWallThickness" value="18" min="10" max="50" />
          <label for="hornMaterialType">Material</label>
          <select id="hornMaterialType">
            <option value="mdf">MDF</option>
            <option value="plywood">Plywood</option>
            <option value="hdf">HDF</option>
          </select>
        </div>
        <div>
          <label for="wooferCountHorn">Antal högtalarelement</label>
          <input type="number" id="wooferCountHorn" value="1" min="1" max="10" />
          <label for="hornLength">Hornlängd (mm)</label>
          <input type="number" id="hornLength" value="1200" min="200" max="5000" />
          <label for="folds">Antal veck</label>
          <input type="number" id="folds" value="4" min="1" max="10" />
          <label for="portDiameter">Basreflexport diameter (mm)</label>
          <input type="number" id="portDiameter" value="80" min="20" max="300" />
          <label for="portLength">Basreflexport längd (mm)</label>
          <input type="number" id="portLength" value="150" min="20" max="500" />
        </div>
      </div>
      <button class="primary" onclick="drawHorn()">Visa & beräkna</button>
      <button class="primary" onclick="exportHornToPDF()">Exportera till PDF</button>
      <div id="hornDetails"></div>
      <canvas id="hornCanvas" width="500" height="300"></canvas>
    </section>

    <!-- Lufttryck visualisering -->
    <section id="pressureSection" class="hidden">
      <h1>Lufttryck i Folded Horn</h1>
      <canvas id="pressureCanvas" width="600" height="200"></canvas>
    </section>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="script.js"></script>
  <script>
    // Menyknappar och sektion switch
    function switchSection(section, btn) {
      document.querySelectorAll("nav button").forEach(b => b.classList.remove("active"));
      btn.classList.add("active");

      document.getElementById("standardSection").classList.add("hidden");
      document.getElementById("hornSection").classList.add("hidden");
      document.getElementById("pressureSection").classList.add("hidden");

      if (section === "standard") {
        document.getElementById("standardSection").classList.remove("hidden");
      } else if (section === "horn") {
        document.getElementById("hornSection").classList.remove("hidden");
        drawHorn();
      } else if (section === "pressure") {
        document.getElementById("pressureSection").classList.remove("hidden");
        drawPressureCurve();
      }
    }
  </script>
</body>
</html>
